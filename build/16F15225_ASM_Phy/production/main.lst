

Microchip MPLAB XC8 Assembler V2.36 build 20220127204148 
                                                                                                           Fri Jun 13 12:43:19 2025


     1                           	processor	16F15223
     2                           	pagewidth 132
     3                           	psect	udata_shr,global,class=COMMON,space=1,delta=1,noexec
     4                           	psect	udata,global,class=RAM,space=1,delta=1,noexec
     5                           	psect	udata_bank0,global,class=BANK0,space=1,delta=1,noexec
     6                           	psect	udata_bank1,global,class=BANK1,space=1,delta=1,noexec
     7                           	psect	udata_bank2,global,class=BANK2,space=1,delta=1,noexec
     8                           	psect	code,global,class=CODE,delta=2
     9                           	psect	data,global,class=STRCODE,delta=2,noexec
    10                           	psect	reset_vec,global,class=CODE,delta=2
    11                           	psect	intentry,global,class=CODE,delta=2
    12                           	psect	init,global,class=CODE,delta=2
    13                           	psect	end_init,global,class=CODE,delta=2
    14                           	psect	powerup,global,delta=1
    15                           	psect	cinit,global,delta=1
    16                           	psect	functab,global,delta=1
    17                           	psect	userid,global,class=IDLOC,delta=2,noexec
    18                           	psect	config,global,abs,ovrld,class=CONFIG,space=4,delta=2,noexec
    19  0080                     
    20                           	psect	udata_shr
    21  0070                     reth:
    22  0070                     	ds	1
    23  0071                     retl:
    24  0071                     	ds	1
    25  0072                     adtoggle:
    26  0072                     	ds	1
    27  0073                     b_reg:
    28  0073                     	ds	1
    29                           
    30                           	psect	data
    31  0000                     stk_offset	set	0
    32  0000                     auto_size	set	0
    33                           
    34                           ; stack_auto defines a symbol /name/_offset which equates to the
    35                           ; stack offset of the auto object in question
    36  0000                     
    37                           ; stack_param defines a symbol /name/_offset which equates to the
    38                           ; stack offset of the parameter object in question
    39  0000                     
    40                           ; alloc_stack adjusts the SP to allocate space for auto objects
    41                           ; it also links in to the btemp symbol so that can be used
    42  0000                     
    43                           ; restore_stack adjusts the SP to remove all auto and parameter
    44                           ; objects from the stack prior to returning from a function
    45  0000                     
    46                           	psect	reset_vec
    47  0000                     reset_vec:
    48  0000  3180               	pagesel	init
    49  0001  2835               	goto	init
    50                           
    51                           	psect	intentry
    52  0004                     int_vec:
    53  0004  014E               	banksel	1804
    54  0005  180D               	btfsc	13,0
    55  0006  2008               	call	handle_adif
    56  0007                     int_ret:
    57  0007  0009               	retfie
    58  0008                     handle_adif:
    59  0008  100D               	bcf	13,0
    60  0009  201F               	call	setupret
    61  000A  2024               	call	merge_adc_ret_250
    62  000B  0AF2               	incf	adtoggle,f
    63  000C  0872               	movf	adtoggle,w
    64  000D  39FC               	andlw	252
    65  000E  1903               	btfsc	3,2
    66  000F  3207               	bra	no_pwm3
    67  0010  01F2               	clrf	adtoggle
    68  0011  0146               	banksel	788
    69  0012  0870               	movf	reth,w
    70  0013  0095               	movwf	789
    71  0014  0871               	movf	retl,w
    72  0015  0094               	movwf	788
    73  0016  3203               	bra	handle_adif_return
    74  0017                     no_pwm3:
    75  0017  0146               	banksel	788
    76  0018  0195               	clrf	789
    77  0019  0194               	clrf	788
    78  001A                     handle_adif_return:
    79  001A  0870               	movf	reth,w
    80  001B  0099               	movwf	793
    81  001C  0871               	movf	retl,w
    82  001D  0098               	movwf	792
    83  001E  0008               	return
    84  001F                     setupret:
    85  001F  302A               	movlw	42
    86  0020  00F0               	movwf	reth
    87  0021  3080               	movlw	128
    88  0022  00F1               	movwf	retl
    89  0023  0008               	return
    90  0024                     merge_adc_ret_250:
    91  0024  0141               	banksel	156
    92  0025  081C               	movf	156,w
    93  0026  00F3               	movwf	b_reg
    94  0027  30D5               	movlw	213
    95  0028  0273               	subwf	b_reg,w
    96  0029  1C03               	btfss	3,0
    97  002A  3202               	bra	merge_adc_ret_250_not
    98  002B  30D5               	movlw	213
    99  002C  00F3               	movwf	b_reg
   100  002D                     merge_adc_ret_250_not:
   101  002D  0103               	clrw
   102  002E  1003               	bcf	3,0
   103  002F  0CF3               	rrf	b_reg,f
   104  0030  0C89               	rrf	9,f
   105  0031  07F1               	addwf	retl,f
   106  0032  0873               	movf	b_reg,w
   107  0033  3DF0               	addwfc	reth,f
   108  0034  0008               	return
   109                           
   110                           	psect	init
   111  0035                     init:
   112  0035  2045               	call	pwm_setup
   113  0036  205E               	call	adc_setup
   114  0037  017E               	banksel	7971
   115  0038  3003               	movlw	3
   116  0039  00A3               	movwf	7971
   117  003A  3004               	movlw	4
   118  003B  00A4               	movwf	7972
   119  003C  0140               	banksel	20
   120  003D  1194               	bcf	20,3
   121  003E  1214               	bcf	20,4
   122  003F  017E               	banksel	8014
   123  0040  11CE               	bcf	78,3
   124  0041  124E               	bcf	78,4
   125  0042  3000               	movlw	0
   126  0043  3E01               	addlw	1
   127  0044  33FE               	bra	-2
   128  0045                     pwm_setup:
   129  0045  0146               	banksel	790
   130  0046  0196               	clrf	22
   131  0047  019A               	clrf	26
   132  0048  0145               	banksel	653
   133  0049  30FF               	movlw	255
   134  004A  008D               	movwf	653
   135  004B  0146               	banksel	789
   136  004C  3080               	movlw	128
   137  004D  0095               	movwf	21
   138  004E  0194               	clrf	20
   139  004F  0099               	movwf	25
   140  0050  0198               	clrf	24
   141  0051  014E               	banksel	1805
   142  0052  130D               	bcf	13,6
   143  0053  0145               	banksel	653
   144  0054  3001               	movlw	1
   145  0055  0090               	movwf	656
   146  0056  3084               	movlw	132
   147  0057  008F               	movwf	655
   148  0058  30F0               	movlw	240
   149  0059  008E               	movwf	654
   150  005A  0146               	banksel	790
   151  005B  1796               	bsf	22,7
   152  005C  179A               	bsf	26,7
   153  005D  0008               	return
   154  005E                     adc_setup:
   155  005E  0140               	banksel	20
   156  005F  1514               	bsf	20,2
   157  0060  017E               	banksel	8014
   158  0061  154E               	bsf	78,2
   159  0062  0141               	banksel	157
   160  0063  3049               	movlw	73
   161  0064  009D               	movwf	157
   162  0065  3060               	movlw	96
   163  0066  009E               	movwf	158
   164  0067  3004               	movlw	4
   165  0068  009F               	movwf	159
   166  0069  014E               	banksel	1804
   167  006A  1417               	bsf	23,0
   168  006B  170B               	bsf	11,6
   169  006C  178B               	bsf	11,7
   170  006D  0008               	return
   171                           
   172                           	psect	userid
   173  8000                     userid:
   174  8000  2465 366C 37F2 3664 	dw	9317,13932,14322,13924
   175                           
   176                           	psect	config
   177                           
   178                           ;Config register CONFIG1 @ 0x8007
   179                           ;	External Oscillator Mode Selection bits
   180                           ;	FEXTOSC = OFF, Oscillator not enabled
   181                           ;	Power-up Default Value for COSC bits
   182                           ;	RSTOSC = HFINTOSC_32MHZ, HFINTOSC (32 MHz)
   183                           ;	Clock Out Enable bit
   184                           ;	CLKOUTEN = OFF, CLKOUT function is disabled; I/O function on RA4
   185                           ;	VDD Range Analog Calibration Selection bit
   186                           ;	VDDAR = LO, Internal analog systems are calibrated for operation between VDD = 1.8V - 3.6V
   187  8007                     	org	32775
   188  8007  2FCD               	dw	12237
   189                           
   190                           ;Config register CONFIG2 @ 0x8008
   191                           ;	Master Clear Enable bit
   192                           ;	MCLRE = EXTMCLR, If LVP = 0, MCLR pin is MCLR; If LVP = 1, RA3 pin function is MCLR
   193                           ;	Power-up Timer Selection bits
   194                           ;	PWRTS = PWRT_OFF, PWRT is disabled
   195                           ;	WDT Operating Mode bits
   196                           ;	WDTE = OFF, WDT disabled; SEN is ignored
   197                           ;	Brown-out Reset Enable bits
   198                           ;	BOREN = ON, Brown-out Reset Enabled, SBOREN bit is ignored
   199                           ;	Brown-out Reset Voltage Selection bit
   200                           ;	BORV = LO, Brown-out Reset Voltage (VBOR) set to 1.9V
   201                           ;	PPSLOCKED One-Way Set Enable bit
   202                           ;	PPS1WAY = ON, The PPSLOCKED bit can be set once after an unlocking sequence is executed; once PPSL
      +                          OCKED is set, all future changes to PPS registers are prevented
   203                           ;	Stack Overflow/Underflow Reset Enable bit
   204                           ;	STVREN = OFF, Stack Overflow or Underflow will not cause a reset
   205  8008                     	org	32776
   206  8008  2FE7               	dw	12263
   207                           
   208                           ;Config register CONFIG3 @ 0x8009
   209                           ;	unspecified, using default values
   210  8009                     	org	32777
   211  8009  3FFF               	dw	16383
   212                           
   213                           ;Config register CONFIG4 @ 0x800A
   214                           ;	Boot Block Size Selection bits
   215                           ;	BBSIZE = BB512, 512 words boot block size
   216                           ;	Boot Block Enable bit
   217                           ;	BBEN = OFF, Boot Block is disabled
   218                           ;	SAF Enable bit
   219                           ;	SAFEN = OFF, SAF is disabled
   220                           ;	Application Block Write Protection bit
   221                           ;	WRTAPP = OFF, Application Block is not write-protected
   222                           ;	Boot Block Write Protection bit
   223                           ;	WRTB = OFF, Boot Block is not write-protected
   224                           ;	Configuration Registers Write Protection bit
   225                           ;	WRTC = OFF, Configuration Registers are not write-protected
   226                           ;	Storage Area Flash (SAF) Write Protection bit
   227                           ;	WRTSAF = OFF, SAF is not write-protected
   228                           ;	Low Voltage Programming Enable bit
   229                           ;	LVP = ON, Low Voltage programming enabled. MCLR/Vpp pin function is MCLR. MCLRE Configuration bit 
      +                          is ignored.
   230  800A                     	org	32778
   231  800A  3FFF               	dw	16383
   232                           
   233                           ;Config register CONFIG5 @ 0x800B
   234                           ;	User Program Flash Memory Code Protection bit
   235                           ;	CP = OFF, User Program Flash Memory code protection is disabled
   236  800B                     	org	32779
   237  800B  3FFF               	dw	16383


Microchip Technology PIC Macro Assembler V2.36 build 20220127204148 
Symbol Table                                                                                               Fri Jun 13 12:43:19 2025

               merge_adc_ret_250 0024                              T2PR 028D                              PIE1 0717  
                            PIR0 070C                              PIR1 070D                              WREG 0009  
                            init 0035                              reth 0070                              retl 0071  
                           ADACT 009F                             T2CON 028E                             T2HLT 028F  
                           TRISC 0014                             b_reg 0073                            ADCON0 009D  
                          ADCON1 009E                            ADRESH 009C                            ANSELC 1F4E  
                          RC3PPS 1F23                            RC4PPS 1F24                            INTCON 000B  
                          STATUS 0003                            userid 8000                handle_adif_return 001A  
           merge_adc_ret_250_not 002D                           PWM3DCH 0315                           PWM3DCL 0314  
                         PWM4DCH 0319                           PWM4DCL 0318                           PWM3CON 0316  
                         PWM4CON 031A                           int_vec 0004                           int_ret 0007  
                         no_pwm3 0017                          T2CLKCON 0290                          adtoggle 0072  
                        setupret 001F                       handle_adif 0008                         adc_setup 005E  
                       reset_vec 0000                         pwm_setup 0045  
