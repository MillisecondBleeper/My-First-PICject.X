

Microchip MPLAB XC8 Assembler V2.36 build 20220127204148 
                                                                                                           Fri Jun 13 14:15:35 2025


     1                           	processor	16F15223
     2                           	pagewidth 132
     3                           	psect	udata_shr,global,class=COMMON,space=1,delta=1,noexec
     4                           	psect	udata,global,class=RAM,space=1,delta=1,noexec
     5                           	psect	udata_bank0,global,class=BANK0,space=1,delta=1,noexec
     6                           	psect	udata_bank1,global,class=BANK1,space=1,delta=1,noexec
     7                           	psect	udata_bank2,global,class=BANK2,space=1,delta=1,noexec
     8                           	psect	code,global,class=CODE,delta=2
     9                           	psect	data,global,class=STRCODE,delta=2,noexec
    10                           	psect	reset_vec,global,class=CODE,delta=2
    11                           	psect	intentry,global,class=CODE,delta=2
    12                           	psect	init,global,class=CODE,delta=2
    13                           	psect	end_init,global,class=CODE,delta=2
    14                           	psect	powerup,global,delta=1
    15                           	psect	cinit,global,delta=1
    16                           	psect	functab,global,delta=1
    17                           	psect	userid,global,class=IDLOC,delta=2,noexec
    18                           	psect	config,global,abs,ovrld,class=CONFIG,space=4,delta=2,noexec
    19  0080                     
    20                           	psect	udata_shr
    21  0070                     reth:
    22  0070                     	ds	1
    23  0071                     retl:
    24  0071                     	ds	1
    25  0072                     adtoggle:
    26  0072                     	ds	1
    27  0073                     b_reg:
    28  0073                     	ds	1
    29                           
    30                           	psect	data
    31  0000                     stk_offset	set	0
    32  0000                     auto_size	set	0
    33                           
    34                           ; stack_auto defines a symbol /name/_offset which equates to the
    35                           ; stack offset of the auto object in question
    36  0000                     
    37                           ; stack_param defines a symbol /name/_offset which equates to the
    38                           ; stack offset of the parameter object in question
    39  0000                     
    40                           ; alloc_stack adjusts the SP to allocate space for auto objects
    41                           ; it also links in to the btemp symbol so that can be used
    42  0000                     
    43                           ; restore_stack adjusts the SP to remove all auto and parameter
    44                           ; objects from the stack prior to returning from a function
    45  0000                     
    46                           	psect	reset_vec
    47  0000                     reset_vec:
    48  0000  3180               	pagesel	init
    49  0001  2836               	goto	init
    50                           
    51                           	psect	intentry
    52  0004                     int_vec:
    53  0004  014E               	banksel	1804
    54  0005  180D               	btfsc	13,0
    55  0006  2008               	call	handle_adif
    56  0007                     int_ret:
    57  0007  0009               	retfie
    58  0008                     handle_adif:
    59  0008  100D               	bcf	13,0
    60  0009  2020               	call	setupret
    61  000A  2025               	call	merge_adc_ret_lim
    62  000B  0AF2               	incf	adtoggle,f
    63  000C  0872               	movf	adtoggle,w
    64  000D  39FC               	andlw	252
    65  000E  1903               	btfsc	3,2
    66  000F  3207               	bra	no_pwm3
    67  0010  01F2               	clrf	adtoggle
    68  0011  0146               	banksel	788
    69  0012  0870               	movf	reth,w
    70  0013  0095               	movwf	789
    71  0014  0871               	movf	retl,w
    72  0015  0094               	movwf	788
    73  0016  3203               	bra	handle_adif_return
    74  0017                     no_pwm3:
    75  0017  0146               	banksel	788
    76  0018  0195               	clrf	789
    77  0019  0194               	clrf	788
    78  001A                     handle_adif_return:
    79  001A  0146               	banksel	792
    80  001B  0870               	movf	reth,w
    81  001C  0099               	movwf	793
    82  001D  0871               	movf	retl,w
    83  001E  0098               	movwf	792
    84  001F  0008               	return
    85  0020                     setupret:
    86  0020  302A               	movlw	42
    87  0021  00F0               	movwf	reth
    88  0022  3080               	movlw	128
    89  0023  00F1               	movwf	retl
    90  0024  0008               	return
    91  0025                     merge_adc_ret_lim:
    92  0025  0141               	banksel	156
    93  0026  081C               	movf	156,w
    94  0027  00F3               	movwf	b_reg
    95  0028  30D5               	movlw	213
    96  0029  0273               	subwf	b_reg,w
    97  002A  1C03               	btfss	3,0
    98  002B  3202               	bra	merge_adc_ret_lim_not
    99  002C  30D5               	movlw	213
   100  002D  00F3               	movwf	b_reg
   101  002E                     merge_adc_ret_lim_not:
   102  002E  0103               	clrw
   103  002F  1003               	bcf	3,0
   104  0030  0CF3               	rrf	b_reg,f
   105  0031  0C89               	rrf	9,f
   106  0032  07F1               	addwf	retl,f
   107  0033  0873               	movf	b_reg,w
   108  0034  3DF0               	addwfc	reth,f
   109  0035  0008               	return
   110                           
   111                           	psect	init
   112  0036                     init:
   113  0036  2046               	call	pwm_setup
   114  0037  205F               	call	adc_setup
   115  0038  017E               	banksel	7971
   116  0039  3003               	movlw	3
   117  003A  00A3               	movwf	7971
   118  003B  3004               	movlw	4
   119  003C  00A4               	movwf	7972
   120  003D  0140               	banksel	20
   121  003E  1194               	bcf	20,3
   122  003F  1214               	bcf	20,4
   123  0040  017E               	banksel	8014
   124  0041  11CE               	bcf	78,3
   125  0042  124E               	bcf	78,4
   126  0043  3000               	movlw	0
   127  0044  3E01               	addlw	1
   128  0045  33FE               	bra	-2
   129  0046                     pwm_setup:
   130  0046  0146               	banksel	790
   131  0047  0196               	clrf	22
   132  0048  019A               	clrf	26
   133  0049  0145               	banksel	653
   134  004A  30FF               	movlw	255
   135  004B  008D               	movwf	653
   136  004C  0146               	banksel	789
   137  004D  3080               	movlw	128
   138  004E  0095               	movwf	21
   139  004F  0194               	clrf	20
   140  0050  0099               	movwf	25
   141  0051  0198               	clrf	24
   142  0052  014E               	banksel	1805
   143  0053  130D               	bcf	13,6
   144  0054  0145               	banksel	653
   145  0055  3001               	movlw	1
   146  0056  0090               	movwf	656
   147  0057  3000               	movlw	0
   148  0058  008F               	movwf	655
   149  0059  30F0               	movlw	240
   150  005A  008E               	movwf	654
   151  005B  0146               	banksel	790
   152  005C  1796               	bsf	22,7
   153  005D  179A               	bsf	26,7
   154  005E  0008               	return
   155  005F                     adc_setup:
   156  005F  0140               	banksel	20
   157  0060  1514               	bsf	20,2
   158  0061  017E               	banksel	8014
   159  0062  154E               	bsf	78,2
   160  0063  0141               	banksel	157
   161  0064  3049               	movlw	73
   162  0065  009D               	movwf	157
   163  0066  3060               	movlw	96
   164  0067  009E               	movwf	158
   165  0068  3004               	movlw	4
   166  0069  009F               	movwf	159
   167  006A  014E               	banksel	1804
   168  006B  1417               	bsf	23,0
   169  006C  170B               	bsf	11,6
   170  006D  178B               	bsf	11,7
   171  006E  0008               	return
   172                           
   173                           	psect	userid
   174  8000                     userid:
   175  8000  2465 366C 37F2 3664 	dw	9317,13932,14322,13924
   176                           
   177                           	psect	config
   178                           
   179                           ;Config register CONFIG1 @ 0x8007
   180                           ;	External Oscillator Mode Selection bits
   181                           ;	FEXTOSC = OFF, Oscillator not enabled
   182                           ;	Power-up Default Value for COSC bits
   183                           ;	RSTOSC = HFINTOSC_32MHZ, HFINTOSC (32 MHz)
   184                           ;	Clock Out Enable bit
   185                           ;	CLKOUTEN = OFF, CLKOUT function is disabled; I/O function on RA4
   186                           ;	VDD Range Analog Calibration Selection bit
   187                           ;	VDDAR = LO, Internal analog systems are calibrated for operation between VDD = 1.8V - 3.6V
   188  8007                     	org	32775
   189  8007  2FCD               	dw	12237
   190                           
   191                           ;Config register CONFIG2 @ 0x8008
   192                           ;	Master Clear Enable bit
   193                           ;	MCLRE = EXTMCLR, If LVP = 0, MCLR pin is MCLR; If LVP = 1, RA3 pin function is MCLR
   194                           ;	Power-up Timer Selection bits
   195                           ;	PWRTS = PWRT_OFF, PWRT is disabled
   196                           ;	WDT Operating Mode bits
   197                           ;	WDTE = OFF, WDT disabled; SEN is ignored
   198                           ;	Brown-out Reset Enable bits
   199                           ;	BOREN = ON, Brown-out Reset Enabled, SBOREN bit is ignored
   200                           ;	Brown-out Reset Voltage Selection bit
   201                           ;	BORV = LO, Brown-out Reset Voltage (VBOR) set to 1.9V
   202                           ;	PPSLOCKED One-Way Set Enable bit
   203                           ;	PPS1WAY = ON, The PPSLOCKED bit can be set once after an unlocking sequence is executed; once PPSL
      +                          OCKED is set, all future changes to PPS registers are prevented
   204                           ;	Stack Overflow/Underflow Reset Enable bit
   205                           ;	STVREN = OFF, Stack Overflow or Underflow will not cause a reset
   206  8008                     	org	32776
   207  8008  2FE7               	dw	12263
   208                           
   209                           ;Config register CONFIG3 @ 0x8009
   210                           ;	unspecified, using default values
   211  8009                     	org	32777
   212  8009  3FFF               	dw	16383
   213                           
   214                           ;Config register CONFIG4 @ 0x800A
   215                           ;	Boot Block Size Selection bits
   216                           ;	BBSIZE = BB512, 512 words boot block size
   217                           ;	Boot Block Enable bit
   218                           ;	BBEN = OFF, Boot Block is disabled
   219                           ;	SAF Enable bit
   220                           ;	SAFEN = OFF, SAF is disabled
   221                           ;	Application Block Write Protection bit
   222                           ;	WRTAPP = OFF, Application Block is not write-protected
   223                           ;	Boot Block Write Protection bit
   224                           ;	WRTB = OFF, Boot Block is not write-protected
   225                           ;	Configuration Registers Write Protection bit
   226                           ;	WRTC = OFF, Configuration Registers are not write-protected
   227                           ;	Storage Area Flash (SAF) Write Protection bit
   228                           ;	WRTSAF = OFF, SAF is not write-protected
   229                           ;	Low Voltage Programming Enable bit
   230                           ;	LVP = ON, Low Voltage programming enabled. MCLR/Vpp pin function is MCLR. MCLRE Configuration bit 
      +                          is ignored.
   231  800A                     	org	32778
   232  800A  3FFF               	dw	16383
   233                           
   234                           ;Config register CONFIG5 @ 0x800B
   235                           ;	User Program Flash Memory Code Protection bit
   236                           ;	CP = OFF, User Program Flash Memory code protection is disabled
   237  800B                     	org	32779
   238  800B  3FFF               	dw	16383


Microchip Technology PIC Macro Assembler V2.36 build 20220127204148 
Symbol Table                                                                                               Fri Jun 13 14:15:35 2025

               merge_adc_ret_lim 0025                              T2PR 028D                              PIE1 0717  
                            PIR0 070C                              PIR1 070D                              WREG 0009  
                            init 0036                              reth 0070                              retl 0071  
                           ADACT 009F                             T2CON 028E                             T2HLT 028F  
                           TRISC 0014                             b_reg 0073                            ADCON0 009D  
                          ADCON1 009E                            ADRESH 009C                            ANSELC 1F4E  
                          RC3PPS 1F23                            RC4PPS 1F24                            INTCON 000B  
                          STATUS 0003                            userid 8000                handle_adif_return 001A  
                         PWM3DCH 0315                           PWM3DCL 0314                           PWM4DCH 0319  
                         PWM4DCL 0318                           PWM3CON 0316                           PWM4CON 031A  
                         int_vec 0004                           int_ret 0007                           no_pwm3 0017  
           merge_adc_ret_lim_not 002E                          T2CLKCON 0290                          adtoggle 0072  
                        setupret 0020                       handle_adif 0008                         adc_setup 005F  
                       reset_vec 0000                         pwm_setup 0046  
